# Sustainability IoT Monorepo

A monorepo for managing IoT devices, dashboards, and AI implementations

## ğŸ“ Folder Structure

```
sustainability/
â”œâ”€â”€ apps/                    # Applications
â”‚   â”œâ”€â”€ dashboard/          # Web Dashboard (Frontend)
â”‚   â”œâ”€â”€ api/                # Backend API
â”‚   â””â”€â”€ ai/                 # AI/ML Models and Services
â”‚
â”œâ”€â”€ devices/                # IoT Device Implementations
â”‚   â”œâ”€â”€ raspi/              # Raspberry Pi Programs
â”‚   â””â”€â”€ m5/                 # M5Stack/M5StickC Programs
â”‚
â”œâ”€â”€ shared/                 # Shared Libraries
â”‚   â”œâ”€â”€ types/              # Common Type Definitions
â”‚   â”œâ”€â”€ utils/              # Utility Functions
â”‚   â””â”€â”€ config/             # Configuration Files
â”‚
â””â”€â”€ docs/                   # Documentation
    â””â”€â”€ specs/              # Specifications
        â”œâ”€â”€ hardware/       # Hardware Specifications
        â””â”€â”€ api/            # API Specifications
```

## ğŸš€ Getting Started

### Prerequisites

- Node.js 20.x or later
- npm 10.x or later

### Installation

Install all dependencies for all workspaces:

```bash
npm install
```

### Development

Run individual applications:

```bash
# API development server
npm run dev --workspace=apps/api

# Dashboard development server
npm run dev --workspace=apps/dashboard
```

### Building

Build all applications:

```bash
npm run build
```

Or build individually:

```bash
npm run build:api
npm run build:dashboard
```

### Linting

Lint all workspaces:

```bash
npm run lint
```

Or lint individually:

```bash
npm run lint:api
npm run lint:dashboard
```

## ğŸ“¦ Package Management

This monorepo uses **npm workspaces** to manage multiple packages efficiently:

- **Shared dependencies** are installed once at the root
- **Workspace-specific dependencies** are isolated per package
- **No need for `--workspaces=false` flags** - everything just works!

### Why Workspaces?

âœ… **Efficiency**: Common dependencies like TypeScript and ESLint are installed once  
âœ… **Consistency**: All packages use the same version of shared tools  
âœ… **Simplicity**: Single `npm install` command for the entire project  
âœ… **Speed**: Faster CI/CD with better caching

## Release & Versioning

- Conventional Commits â†’ automated SemVer bump and changelog
- Release tags are created per app (e.g. `dashboard-v1.2.3`, `api-v1.2.3`)
- Release PRs are generated by Release Please on `main`
